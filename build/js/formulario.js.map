{"version":3,"sources":["formulario.js"],"names":["mensajesError","nombre","valueMissing","email","typeMismatch","patternMismatch","asunto","mensaje","validarInput","e","tipoInput","target","dataset","tipo","validity","valid","parentElement","classList","remove","add","querySelector","innerHTML","mostrarMensajeError","input","mensajes","clave","valor","Object","entries","formulario","document","querySelectorAll","forEach","addEventListener","textarea","manejarSubmit","async","event","preventDefault","modal","cerrarModal","modalContenido","modalBody","createElement","appendChild","loader","circle1","circle2","circle3","style","padding","iconoResponse","botonCerrarModal","textContent","color","fontWeight","visibility","removeChild","zindex","opacity","FormData","this","response","fetch","action","method","body","headers","Accept","ok","setTimeout","append","reset"],"mappings":"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","file":"formulario.js","sourcesContent":["const mensajesError={\r\n    nombre:{\r\n        valueMissing:\"Este campo no puede estar vacio\",\r\n    },\r\n    email:{\r\n        valueMissing:\"Este campo no puede estar vacio\",\r\n        typeMismatch:\"El correo no es valido\",\r\n        patternMismatch:\"El correo debe coincidir con el siguiente formato usuario@dominio.com\"\r\n    },  \r\n    asunto:{\r\n        valueMissing:\"Este campo no puede estar vacio\",\r\n        patternMismatch:\"Al menos 6 caracteres, máximo 12, debe contener una letra minúscula, una letra mayúscula, un número y no puede contener caracteres especiales.\"\r\n    },\r\n    mensaje:{\r\n        valueMissing:\"Este campo no puede estar vacio\"\r\n    }\r\n\r\n    \r\n};\r\n// const verificarTipoInput={\r\n//     nacimiento:(e)=>{validarEdad(e);}\r\n// }\r\nfunction validarInput(e){\r\n\r\n    const tipoInput=e.target.dataset.tipo;\r\n    // if(verificarTipoInput[tipoInput]){\r\n    //     verificarTipoInput[tipoInput](e);\r\n    // }\r\n    if(e.target.validity.valid){\r\n        e.target.parentElement.classList.remove(\"input-container--invalid\");\r\n        //console.log(e.target.validity);\r\n    }else{\r\n        e.target.parentElement.classList.add(\"input-container--invalid\");\r\n        e.target.parentElement.querySelector(\".input-message-error\").innerHTML=`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#e73d3d\" class=\"bi bi-exclamation-circle\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n        <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"/>\r\n      </svg> `+mostrarMensajeError(tipoInput,e.target);\r\n    }\r\n}\r\n\r\nfunction mostrarMensajeError(tipoInput,input){\r\n    //console.log(mensajesError);\r\n    //console.log(input.validity);\r\n    //console.log(input.value);\r\n    let mensajes='';\r\n    //console.log(mensajesError[tipoInput])\r\n    for(const [clave,valor] of Object.entries(mensajesError[tipoInput])){\r\n            if(input.validity[clave]){\r\n                mensajes=valor;\r\n            }\r\n        \r\n    }\r\n    //console.log(mensajes);\r\n    return mensajes;\r\n}\r\n\r\n\r\nexport function formulario() {\r\n    const inputs = document.querySelectorAll(\"input\");\r\n    inputs.forEach(input => {\r\n        input.addEventListener(\"blur\", validarInput);\r\n        const textsarea = document.querySelectorAll(\"textarea\");\r\n        textsarea.forEach(textarea => {\r\n            textarea.addEventListener(\"blur\", validarInput);\r\n        });\r\n    });\r\n    const form = document.querySelector(\"#formulario\");\r\n    form.addEventListener(\"submit\", manejarSubmit);\r\n}\r\n\r\nasync function manejarSubmit(event) {\r\n    event.preventDefault();\r\n    const modal = document.querySelector(\".modal\");\r\n    const cerrarModal = document.querySelector(\".cerrar-modal\");\r\n    const modalContenido = document.querySelector(\".modal__contenedor\");\r\n    const modalBody = document.createElement(\"DIV\");\r\n    modalBody.classList.add(\"modal__contenido\");\r\n    modalContenido.appendChild(modalBody);\r\n\r\n    const loader = document.createElement(\"DIV\");\r\n    const circle1 = document.createElement(\"DIV\");\r\n    circle1.classList.add(\"circle1\");\r\n    const circle2 = document.createElement(\"DIV\");\r\n    circle2.classList.add(\"circle2\");\r\n    const circle3 = document.createElement(\"DIV\");\r\n    circle3.classList.add(\"circle3\");\r\n    loader.appendChild(circle1);\r\n    loader.appendChild(circle2);\r\n    loader.appendChild(circle3);\r\n\r\n    modalBody.appendChild(loader);\r\n\r\n    loader.classList.add(\"animacion-modal\");\r\n\r\n    let mensaje = document.createElement(\"P\");\r\n    mensaje.style.padding = \"1rem\";\r\n    const iconoResponse = document.createElement(\"DIV\");\r\n    const botonCerrarModal = document.createElement(\"DIV\");\r\n    botonCerrarModal.classList.add(\"btn-cerrar-modal\");\r\n    botonCerrarModal.textContent = \"Cerrar\";\r\n    botonCerrarModal.style.color = \"#1f1d2e\";\r\n    botonCerrarModal.style.fontWeight = \"500\";\r\n\r\n    botonCerrarModal.addEventListener(\"click\", () => {\r\n        modal.style.visibility = \"hidden\";\r\n        modalContenido.removeChild(modalBody);\r\n    });\r\n\r\n    cerrarModal.addEventListener(\"click\", () => {\r\n        modal.style.visibility = \"hidden\";\r\n        modalContenido.removeChild(modalBody);\r\n    });\r\n    modal.style.visibility = \"visible\";\r\n    modal.style.zindex = \"100\";\r\n    modal.style.opacity = \"1\";\r\n\r\n    const formulario = new FormData(this);\r\n    let response;\r\n    //conexion con formspree para enviar mensajes \r\n    response = await fetch(this.action, {\r\n        method: this.method,\r\n        body: formulario,\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    });\r\n\r\n    if (response.ok) {\r\n        setTimeout(() => {\r\n            modalBody.removeChild(loader);\r\n            iconoResponse.classList.add(\"icono-success\");\r\n            modalBody.appendChild(iconoResponse);\r\n            mensaje.textContent = \"Gracias por contactarme, respondere lo mas pronto que me sea posible \";\r\n            modalBody.append(mensaje);\r\n            modalBody.appendChild(botonCerrarModal);\r\n        }, 1000);\r\n        this.reset();\r\n    } else {\r\n        setTimeout(() => {\r\n            modalBody.removeChild(loader);\r\n            iconoResponse.classList.add(\"icono-failed\");\r\n            modalBody.appendChild(iconoResponse);\r\n            mensaje.textContent = \"Hubo un problema con el envio del mensaje :/, intenta enviarme desde otra fuente o intenta nuevamente\"\r\n            modalBody.appendChild(mensaje);\r\n            modalBody.appendChild(botonCerrarModal);\r\n            this.reset();\r\n        }, 1000);\r\n\r\n    }\r\n}\r\n"]}